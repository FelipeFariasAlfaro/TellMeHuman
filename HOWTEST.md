# TESTING.md — Test Guide for *Tell Me Human* (Chrome Extension MV3)

This guide explains how to validate functionality, fallbacks, i18n, performance, accessibility, and privacy.

---

## 0) Requirements
- **Google Chrome 128+** (test on Stable/Beta/Canary).
- **Developer mode** enabled in `chrome://extensions/`.
- (Optional) **OpenAI/Gemini** API keys for cloud.
- Sample texts for testing.

---

## 1) Installation (unpacked)
1. Unzip the project into a local folder.
2. Open `chrome://extensions/` and enable **Developer mode**.
3. Click **Load unpacked** and select the project folder.
4. Verify:
   - Extension icon is visible.
   - **Service Worker** is running (Inspect views).
   - The **Side Panel** opens from the extension icon.

---

## 2) Smoke test (2 minutes)
1. Open a page with text (article or email).
2. Select a paragraph → right-click → **Tell Me Human → Analyze**.
3. Press **Analyze Text**.
4. In the **Side Panel**, confirm:
   - **Score (0–100)** and **explanations** are visible.
   - **Humanize** generates a more natural version.
5. Copy to clipboard or optionally replace in-page (if available).

---

## 3) Functional tests
### 3.1 Detection (AI likelihood)
- **Human case:** text written by you.
- **AI case:** text generated by an LLM.
- **Mixed case:** human + AI combined.

**Expected:** low, high, and intermediate scores respectively; **explanations** mention stylistic/structural cues.

### 3.2 Pertinence / safety
- Include doubtful claims, inappropriate tone, and/or sensitive topics.  
**Expected:** visible flags/hints before publishing.

### 3.3 Humanization
- Run **Humanize** on the previous cases.  
**Expected:** preserves meaning and improves fluency; no factual hallucinations.

### 3.4 Entry points (Side Panel / Context Menu)
**Expected:** consistent results from both flows.

---

## 4) Format robustness
- API responses are expected to be **single-line JSON** (no backticks/wrappers) so the front end can render content reliably.
- Test inputs with lists, emojis, URLs, and tricky quotes.  
**Expected:** no parse errors; URLs/quotes preserved in humanized output.

---

## 5) Language: EN/ES
- The language is set **only at app start**.
- UX strings and SWAL messages must always match the selected language.

---

## 6) Privacy & permissions
- With on-device enabled and cloud fallbacks **OFF**, text **does not** leave the browser.
- If using cloud APIs: correct endpoint and **do not** log API keys to the console.
- `chrome.storage.sync`: store configuration only.

---

## 7) Sample dataset
**Human (ES):**  
"Escribe este párrafo para evaluar la extensión. Busco un estilo natural, con ritmo variable y poca repetición léxica."

**AI (ES):**  
"Como modelo de lenguaje avanzado, mi objetivo principal es proporcionar información clara y coherente en múltiples dominios."

**Mixed (EN):**  
"I drafted the intro myself to set the context. As an advanced language model, I aim to deliver clear and consistent information."

**Doubtful claim (ES):**  
"El 90% de las startups que usan IA triplican sus ingresos en dos meses, según varias fuentes."

---

## 8) Troubleshooting
- **On-device APIs unavailable:** Chrome’s local AI APIs must be enabled; otherwise the user should pick a cloud provider.
- **JSON parsing:** ensure **single-line** responses; sanitize backticks/markdown.
- **Rate limits/invalid keys:** clear messages (SweetAlert2).
